<div
  class="flex flex-col px-4 mt-24 gap-8 pl-[calc((100vw-1430px)/2)] relative overflow-hidden max-xl:px-0 max-xl:gap-8 max-sm:mt-12 max-sm:gap-4"
>
  <!-- Section Header -->
  <div
    class="flex justify-between items-center max-w-[1430px] max-xl:pr-[1rem] text-primary dark:text-white  max-md:flex-col max-md:items-start max-md:gap-4"
  >
    <h4 class=" font-case font-bold">{{translations()?.sectionTitles?.vehicleListTitle}}</h4>
    <a href="#" class="flex text-center gap-2 text-nowrap items-center  ">
      {{translations()?.viewAll}}
      <img src="icons/LinkArrow.svg" alt="" class="w-[14px] h-[14px] dark:invert" />
    </a>
  </div>

  <!-- Filter Tabs -->
  <div class="flex gap-4 border-b-[1px] max-w-[1430px]">
    <span class="text-xl  border-secondary text-primary dark:text-white border-b-[2px] py-2  ">   {{translations()?.allCars}}</span>
  </div>

  <!-- Slider -->
  <div
    class="flex gap-5 overflow-hidden cursor-grab text-white  relative slider-container w-full max-xl:gap-0"
    style="
      width: calc(1400px + ((100vw - 1400px) / 2));
      max-width: calc(1400px + ((100vw - 1400px) / 2)) !important;
      padding-right: calc((100vw - 1400px) / 2);
    "
  >
    <div
      class="flex w-full h-[280px] max-w-[600px] min-w-[600px] transition-transform duration-500
         max-xl:max-w-none max-xl:h-[450px] max-xl:min-w-[100vw]  max-xl:pr-[2rem]
        max-lg:h-[300px]
        max-md:flex-col max-md:h-[650px]
        max-sm:h-[500px]"
      *ngFor="let cars of cars; let i = index"
      [style.transform]="
        screenWidth <= 1280
          ? 'translateX(calc(' + -currentIndex * 100 + 'vw))'
          : 'translateX(' + -currentIndex * 620 + 'px)'
      "
    >
      <!-- cars Image -->
      <div class="w-[50%] rounded-l-[16px] flex items-center max-md:w-[100%] max-md:h-[70%]  max-sm:h-[70%]">
        <img
          [src]="cars.image"
          alt="{{ cars.name }}"
          draggable="false"
          class="object-cover w-full h-full rounded-l-[16px] max-md:rounded-bl-none max-md:rounded-t-[16px]"
        />
      </div>

      <!-- cars Info -->
      <div
        class="flex flex-col py-6 px-8 w-[50%] rounded-r-[16px] select-none justify-between max-md:w-[100%] 
        max-xl:px-8  max-xl:py-16
        max-lg:px-4  max-lg:py-8
        max-md:h-[40%] max-md:pt-2 max-md:pb-4 max-md:px-4 max-md:gap-1 
        max-md:rounded-tr-none max-md:rounded-b-[16px] max-md:p-[2rem]
       "
        
        [ngStyle]="{ 'background-color': randomBackgrounds[i] }"
      >
        <div class="flex flex-col gap-1">
          <h5 class="font-medium  max-md:gap-0">
            {{ translations()?.cars[i]?.name }}
          </h5>
          <span
            class="overflow-hidden  text-sm font-normal  whitespace-nowrap text-ellipsis"
            > {{ translations()?.cars[i]?.info }}</span
          >
        </div>

        <div class="flex flex-col gap-4 max-md:gap-1 max-md:mt-2" >
          <div class="flex gap-2  ">
            <img
              src="icons/gasoline-pump.svg"
              alt="fuel"
              class="w-[18px] h-[18px]"
            />
            <span class="text-sm font-normal">{{ translations()?.cars[i].fuel}}</span>
          </div>
          <div class="flex gap-2 ">
            <img
              src="icons/engine.svg"
              alt="engine"
              class="w-[18px] h-[18px] invert"
            />
            <span class="text-sm font-normal">{{ cars.engine }}</span>
          </div>
          <div class="flex gap-2 ">
            <img
              src="icons/gearbox.svg"
              alt="transmission"
              class="w-[18px] h-[18px]"
            />
            <span class="text-sm font-normal">{{ translations()?.cars[i].transmission}}</span>
          </div>
        </div>

        <div class="flex justify-between gap-3 max-md:mt-2">
          <span class=" font-bold ">
            {{  translations()?.cars[i].price }} / {{  translations()?.cars[i].per }}
          </span>
          <a
            href="#"
            class="flex text-center gap-2 text-nowrap items-center">
            {{translations()?.moreInfo}}
            <img
              src="icons/LinkArrow.svg"
              alt=""
              class="w-[10px] h-[10px] invert"
            />
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Slide Controls -->
  <div
    class="flex gap-6 items-center w-full max-w-[260px] ml-1 mb-1 max-md:gap-[2rem] text-primary dark:text-white"
  >
    <button
      (click)="prevSlide()"
      class="w-8 h-8 border border-[#E1E1E1] rounded-3xl text-sm ease-in-out transition-all duration-300
      hover:bg-white  dark:hover:text-primary hover:scale-110 "
    >
      ❮
    </button>
    <div class="flex gap-2 whitespace-nowrap">
      {{ currentIndex + 1 }} - {{ cars.length }}
    </div>
    <button
      (click)="nextSlide()"
      class="w-8 h-8 border border-[#E1E1E1] rounded-3xl text-sm ease-in-out transition-all duration-300
       hover:bg-white  dark:hover:text-primary hover:scale-110  "
    >
      ❯
    </button>
  </div>
</div>
